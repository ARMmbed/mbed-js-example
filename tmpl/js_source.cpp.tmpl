/*
 * This file was automatically generated by cppify.
 */

#include "jerryscript-mbed-util/js_source.h"

/* define source files */
<% 
_.each(js_files, function(item, key, list) {
    // escape reserved characters in C++
    var name = item.name;
    var source = item.source
    var length = item.source_length;
%>
const static char <%= name %>_n[] = "<%= name %>";
const static char <%= name %>_s[] = "<%= source %>";
const static int <%= name %>_l = <%= length %>;
<% }); %>

struct jsmbed_js_source_t jsmbed_js_code_storage[] = {
<% 
_.each(js_files, function(item, key, list) {
    var name = item.name;
%>
    { <%= name %>_n, <%= name %>_s, <%= name %>_l },
<% }); %>
    { 0, 0, 0 }
};

/* define magic strings */
unsigned int jsmbed_js_magic_string_count = <%= magic_strings.length %>;

const char *jsmbed_js_magic_strings[] = {
<%
_.each(magic_strings, function(item, key, list) {
    var name = item.name;
%>
    "<%= name %>",
<%
});
%>
};

unsigned int jsmbed_js_magic_string_lengths[] = {
<%
_.each(magic_strings, function(item, key, list) {
    var length = item.name.length;
%>
    <%= length %>,
<%
});
%>
};

unsigned int jsmbed_js_magic_string_values[] = {
<%
_.each(magic_strings, function(item, key, list) {
    var value = item.value;
%>
    <%= value %>,
<%
});
%>
};

